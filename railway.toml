# Railway Configuration
# This file helps Railway understand your project structure

# Backend Service
[[services]]
name = "backend"
source = "server"

[services.build]
builder = "DOCKERFILE"
dockerfilePath = "server/Dockerfile"

[services.deploy]
startCommand = "node dist/index.js"
healthcheckPath = "/api/orders"
healthcheckTimeout = 100

# Frontend Service
[[services]]
name = "frontend"
source = "."

[services.build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"
# Pass environment variables as Docker build arguments
buildArgs = ["VITE_API_URL", "GEMINI_API_KEY"]

[services.deploy]
# Let Dockerfile handle the start command

